<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      /* body {
        margin-top: 40px; /* This margin just makes the text easier to read. You can remove it if you want since it can mess with your other styles. */
      

      /* body::before {
        content: "XS";
        color: red;
        font-size: 2rem;
        font-weight: bold;
        position: fixed;
        top: 0;
        right: 0;
      } */
body {
  background-color: #e0e0e0;
}
      img {
        max-width: 100%;
        padding: 1em;
        margin: 0 auto;
      }

      /* This box class is purely used for explaining how the bootstrap grid system works. */
      /* .box {
        background-color: lightblue;
        border: 1px solid blue;
        min-height: 50px;
        font-size: 2rem;
      } */


      table tr td::before {
        content: ": ";
      }

      .table>:not(caption)>*>* {
        border-bottom-width: 0;
      }

    .form-label {
      color: #000;
    }

      .profil-edit {
        display: none;
      }

      #form-profil .msg-error {
        margin-top: 3px;
        color: #ff3860;
      }

      #form-profil .success input:focus {
        outline: 0;
      }

      #form-profil  .success input {
        border-color : #09c372;
      }

      #form-profil .msg-error input {
        border-color: #ff3860;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
      }

      table th {
        max-width: 80px;
      }

      

      
      
      
      
      

      @media (min-width: 576px) {
        /* body::before {
          content: "SM";
        } */
      }

      @media (max-width: 992px) {
        .border-start {
          border: unset !important;
        }

        #profil {
          text-align: center;
        }
      }

      @media (min-width: 768px) {
        /* body::before {
          content: "MD";
        } */
      }

      @media (min-width: 992px) {
        /* body::before {
          content: "LG";
        } */
      }

      @media (min-width: 1200px) {
        /* body::before {
          content: "XL";
        } */
      }

      @media (min-width: 1400px) {
        /* body::before {
          content: "XXL";
        } */
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary shadow">
      <div class="container-md">
        <a class="navbar-brand" href="#">Curriculum Vitae</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Portfolio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Galeri</a>
            </li>
          
            <li class="nav-item">
              <a class="nav-link" href="#">Kontak</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-xxl my-5">
      <!-- row profil -->
      <section id="profil">
        <div class="row">
          <div class="col-md-8 mx-auto ">
            <div class="card" style="border-radius: 50px;
            background: #e0e0e0;
            box-shadow:  20px 20px 60px #bebebe,
                         -20px -20px 60px #ffffff;">
              <div
                class="row justify-content-md-center align-items-center py-4 "
              >
                <div class="col-lg-4 mx-auto " style="max-width: 170px">
                  <img src="profil.jpg" class="img-fluid d-block rounded-circle " alt="..." />
                  <p class="card-text text-center">Operator Dapodik SDN 631 Rumaju 2</p>
                </div>

                <div class="col-lg-8 border-start border-light">
                  <div class="card-body">
                    <div
                      class="row d-flex justify-content-lg-start  justify-content-center "
                    >

                    <div class="col-lg-12">
                    <div class="table-responsive">
                      <table class="table table-sm">
                        <tr>
                          <th class="text-start field_namaLengkap">Nama Lengkap</th>
                          <td class="text-start value_namaLengkap">Jumadil Mustamin</td>
                        </tr>
                        <tr>
                          <th class="text-start field_umur">Umur</th>
                          <td class="text-start value_umur">29</td>
                        </tr>
                        <tr>
                          <th class="text-start field_lokasi">Lokasi</th>
                          <td class="text-start value_lokasi">Belopa, Kab. Luwu</td>
                        </tr>
                        <tr>
                          <th class="text-start field_noTelp">No. Telp</th>
                          <td class="text-start value_noTelp">0812-4545-4931</td>
                        </tr>
                        <tr>
                          <th class="text-start field_email">Email</th>
                          <td class="text-start value_email">jumadilmustamin6@gmail.com</td>
                        </tr>
                        
                       </table>
                    </div>

                       
                        <section id="btn-profil" class="d-flex">
                          <button type="button" onclick="tampilform()" class="btn btn-success me-2">
                            Edit
                          </button>
                          <button type="button" class="btn btn-outline-primary">
                            Resume
                          </button>
                        </section>

                    
                  </div>
                </div>
              </div>
              <!-- </div> -->
            </div>
          </div>
        </div>
      </section>


      <!-- fetch JSON -->
      <section id="fetchdata">
        <div class="row">
          
        </div>
      </section>

      <!-- row form-profil -->
      <section id="form-profil" class="d-none">
        <div class="row">
          <div class="col-md-8 mx-auto" >
            <div class="my-5 p-5 card" style="border-radius: 50px;
            background: #e0e0e0;
            box-shadow:  20px 20px 60px #bebebe,
                         -20px -20px 60px #ffffff;">
              <form class="row g-3" novalidate>
                <div class="col-md-6 " >
                  <label for="namaLengkap" class="form-label">Nama Lengkap</label>
                  <input type="text" class="form-control" id="namaLengkap" name="namaLengkap" placeholder="Masukkan Nama" />
                  <div class="msg-error"></div>
                </div>
                <div class="col-md-6">
                  <label for="umur" class="form-label"
                    >Umur</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="umur"
                    name="umur"
                    placeholder="Masukkan Umur"
                  />
                  <div class="msg-error"></div>
                </div>
                <div class="col-12">
                  <label for="lokasi" class="form-label">Lokasi</label>
                  <input
                    type="text"
                    class="form-control"
                    id="lokasi"
                    name="lokasi"
                    placeholder="Masukkan Lokasi" 
                  />
                  <div class="msg-error"></div>
                </div>
                <div class="col-12">
                  <label for="pekerjaan" class="form-label"
                    >Pekerjaan</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="pekerjaan"
                    name="pekerjaan"
                    placeholder="Masukkan Pekerjaan"
                  />
                  <div class="msg-error"></div>
                </div>

                <div class="col-md-6" >
                  <label for="noTelp" class="form-label">No. Telp/Whatsapp</label>
                  <input type="text" class="form-control" id="noTelp" placeholder="Masukkan No. Telp/Whatsapp" />
                  <div class="msg-error"></div>
                </div>

                
                <div class="col-md-6">
                  <label for="email" class="form-label"
                    >Email</label
                  >
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    placeholder="Masukkan Umur"
                    name="email"
                  />

                  <div class="msg-error"></div>
                </div>
                
                <div class="col-12">
                  <button type="submit" class="btn btn-primary">Simpan</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>

    </div>

      <script>

        // hide/show form
        function tampilform() {
          var  formedit = document.getElementById("form-profil") ;
          formedit.classList.toggle("d-none");
        }

        // add submit form

        const form = document.querySelector("form");
        const namaLengkap = document.getElementById("namaLengkap");
        const umur = document.getElementById("umur");
        const lokasi = document.getElementById("lokasi");
        const pekerjaan = document.getElementById("pekerjaan");
        const noTelp = document.getElementById("noTelp");
        const email = document.getElementById("email");

        // validasi form
        form.addEventListener('submit', e => {
          e.preventDefault();

          // LOGIC 2
          // jalankan validasi input 
          validateInputs();


        })


        // menjalankan fungsi jika error
        const setError = (element, message) => {
          const inputControl = element.parentElement;
          const errorDisplay = inputControl.querySelector('.msg-error');

          errorDisplay.innerText = message;
          inputControl.classList.add('msg-error');
          inputControl.classList.remove('success');
          localStorage.clear();
        }

        // menjalankan fungsi jika sukses
        const setSuccess = element => {
          const inputControl = element.parentElement;
          const errorDisplay = inputControl.querySelector('.msg-error');

          errorDisplay.innerText = '';
          inputControl.classList.add('success');
          inputControl.classList.remove('msg-error');
        }



        // DESCRIPTION LOGIC 2

        // menjalankan fungsi validateInputs

        const validateInputs = () => {

          //membuat fungsi REGEX 
          const namaLengkapValue  = namaLengkap.value.replace(/^\s+|\s+$/gm,'');
          const umurValue         = umur.value.replace(/^\s+|\s+$/gm,'');
          const lokasiValue       = lokasi.value.replace(/^\s+|\s+$/gm,'');
          const pekerjaanValue    = pekerjaan.value.replace(/^\s+|\s+$/gm,'');
          const noTelpValue       = noTelp.value.replace(/^\s+|\s+$/gm,'');
          const emailValue        = email.value.replace(/^\s+|\s+$/gm,'');

          // pengecekan error(inputankosong)
          if(namaLengkapValue === '' ) {
            setError(namaLengkap, "Nama Lengkap harus diisi");
          } else {
            setSuccess(namaLengkap);
            localStorage.setItem('namaLengkap', JSON.stringify(namaLengkapValue));
          }
          
          if(umurValue === '' ) {
            setError(umur, "Umur harus diisi");
            
          } else {
            setSuccess(umur);
            localStorage.setItem('umur', JSON.stringify(umurValue));
          }
          
          
          if(lokasiValue === '' ) {
            setError(lokasi, "Lokasi harus diisi");
          } else {
            setSuccess(lokasi);
            localStorage.setItem('lokasi', JSON.stringify(lokasiValue));
          }
          
          if(pekerjaanValue === '' ) {
            setError(pekerjaan, "Pekerjaan harus diisi");
          } else {
            setSuccess(pekerjaan);
            localStorage.setItem('pekerjaan', JSON.stringify(pekerjaanValue));
          }
          
          if(noTelpValue === '' ) {
            setError(noTelp, "No Telp harus diisi");
            
          } else {
            setSuccess(noTelp);
            localStorage.setItem('noTelp', JSON.stringify(noTelpValue));
          }
          
          if(emailValue === '' ) {
            setError(email, "Email harus diisi");
             
          } else {
            setSuccess(email);
            localStorage.setItem('email', JSON.stringify(emailValue));
          }
          
          
          
          
          //   localStorage.setItem('umur', JSON.stringify(umur));
          //   localStorage.setItem('umur', JSON.stringify(umur));
          //   // alert();
           
        
          //   setSuccess(umur);
          // setSuccess(lokasi);
          // setSuccess(noTelp);
          //   setSuccess(email);
          //   setSuccess(pekerjaan);




        }

        
        if(localStorage.getItem("namaLengkap") !== null && 
        localStorage.getItem("umur") !== null &&
        localStorage.getItem("lokasi") !== null &&
        localStorage.getItem("pekerjaan") !== null &&
        localStorage.getItem("noTelp") !== null &&
        localStorage.getItem("email") !== null
        ) {

          document.querySelector('.value_namaLengkap').innerHTML = JSON.parse(localStorage.getItem("namaLengkap"))
          document.querySelector('.value_umur').innerHTML = JSON.parse(localStorage.getItem("umur"))
          document.querySelector('.value_lokasi').innerHTML = JSON.parse(localStorage.getItem("lokasi"))
          document.querySelector('.value_noTelp').innerHTML = JSON.parse(localStorage.getItem("noTelp"))
          document.querySelector('.value_email').innerHTML = JSON.parse(localStorage.getItem("email"))
        }
            



        // fetch data.json

        // fetch('data.json')
        // .then(function (response) {
        //   return response.json();
        // })
        // .then(function (data) {
        //   for(var i=0; i < data.length; i++) {
        //     // document.getElementById("fetchdata").innerHTML += 
            
        //     document.querySelector(".value_namaLengkap").innerHTML = data[i].namaLengkap;
        //     document.querySelector(".value_umur").innerHTML = data[i].umur;
        //     document.querySelector(".value_lokasi").innerHTML = data[i].lokasi;
        //     document.querySelector(".value_noTelp").innerHTML = data[i].noTelp;
        //     document.querySelector(".value_email").innerHTML = data[i].email;

        //   }
        // })
        // .catch(function (error) {
        //   console.log(error);
        // })



        
      </script>
  </body>
</html>
